{"ast":null,"code":"import _asyncToGenerator from\"/home/mogloblina/vkk/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/mogloblina/vkk/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/mogloblina/vkk/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import bridge from'@vkontakte/vk-bridge';import{View,ScreenSpinner,AdaptivityProvider,AppRoot,ConfigProvider,SplitLayout,SplitCol}from'@vkontakte/vkui';import'@vkontakte/vkui/dist/vkui.css';import'@vkontakte/vkui';import{Input}from'@vkontakte/vkui';//bridge.send(\"VKWebAppInit\");\nimport Home from'./panels/Home';import Persik from'./panels/Persik';import{jsx as _jsx}from\"react/jsx-runtime\";alert(bridge.send(\"VKWebAppInit\"));var App=function App(){bridge.send(\"VKWebAppInit\");bridge.send(\"VKWebAppGetClientVersion\");var _useState=useState('bright_light'),_useState2=_slicedToArray(_useState,2),scheme=_useState2[0],setScheme=_useState2[1];var _useState3=useState('home'),_useState4=_slicedToArray(_useState3,2),activePanel=_useState4[0],setActivePanel=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),fetchedUser=_useState6[0],setUser=_useState6[1];var _useState7=useState(/*#__PURE__*/_jsx(ScreenSpinner,{size:\"large\"})),_useState8=_slicedToArray(_useState7,2),popout=_useState8[0],setPopout=_useState8[1];useEffect(function(){bridge.subscribe(function(_ref){var _ref$detail=_ref.detail,type=_ref$detail.type,data=_ref$detail.data;if(type==='VKWebAppUpdateConfig'){setScheme(data.scheme);}});function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return bridge.send('VKWebAppGetUserInfo');case 2:user=_context.sent;setUser(user);setPopout(null);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);/*\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<ConfigProvider scheme={scheme}>\n\t\t\t<AdaptivityProvider>\n\t\t\t\t<AppRoot>\n\t\t\t\t\t<SplitLayout popout={popout}>\n\t\t\t\t\t\t<SplitCol>\n\t\t\t\t\t\t\t<View activePanel={activePanel}>\n\t\t\t\t\t\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\n\t\t\t\t\t\t\t\t<Persik id='persik' go={go} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</SplitCol>\n\t\t\t\t\t</SplitLayout>\n\t\t\t\t</AppRoot>\n\t\t\t</AdaptivityProvider>\n\t\t</ConfigProvider>\n\t);*/};/*\nconst textInput = React.createRef();\nconst clear = () => (textInput.current.value = \"\");\n\n<View activePanel=\"input\">\n  <Panel id=\"input\">\n    <PanelHeader>Input</PanelHeader>\n    <Group>\n      <FormItem top=\"Фамилия\">\n        <Input type=\"text\" defaultValue=\"Петров\" />\n      </FormItem>\n      <FormItem>\n        <Input type=\"text\" defaultValue=\"Иванов\" align=\"center\" />\n      </FormItem>\n      <FormItem>\n        <Input type=\"text\" defaultValue=\"Сидоров\" align=\"right\" />\n      </FormItem>\n      <FormItem top=\"С иконкой\">\n        <Input\n          type=\"text\"\n          defaultValue=\"Смирнов\"\n          after={<Icon20User aria-hidden=\"true\" />}\n        />\n      </FormItem>\n      <FormItem top=\"С IconButton\">\n        <Input\n          getRef={textInput}\n          type=\"text\"\n          defaultValue=\"Кузнецов\"\n          after={\n            <IconButton\n              hoverMode=\"opacity\"\n              aria-label=\"Очистить поле\"\n              onClick={clear}\n            >\n              <Icon16Clear />\n            </IconButton>\n          }\n        />\n      </FormItem>\n    </Group>\n  </Panel>\n</View>;\n\n*/export default App;","map":{"version":3,"sources":["/home/mogloblina/vkk/src/App.js"],"names":["React","useState","useEffect","bridge","View","ScreenSpinner","AdaptivityProvider","AppRoot","ConfigProvider","SplitLayout","SplitCol","Input","Home","Persik","alert","send","App","scheme","setScheme","activePanel","setActivePanel","fetchedUser","setUser","popout","setPopout","subscribe","detail","type","data","fetchData","user"],"mappings":"iUAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,IAAT,CAAeC,aAAf,CAA8BC,kBAA9B,CAAkDC,OAAlD,CAA2DC,cAA3D,CAA2EC,WAA3E,CAAwFC,QAAxF,KAAwG,iBAAxG,CACA,MAAO,+BAAP,CACA,MAAO,iBAAP,CACA,OAASC,KAAT,KAAsB,iBAAtB,CAEA;AAEA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,C,2CAGAC,KAAK,CAACX,MAAM,CAACY,IAAP,CAAY,cAAZ,CAAD,CAAL,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CAGjBb,MAAM,CAACY,IAAP,CAAY,cAAZ,EACAZ,MAAM,CAACY,IAAP,CAAY,0BAAZ,EAEA,cAA4Bd,QAAQ,CAAC,cAAD,CAApC,wCAAOgB,MAAP,eAAeC,SAAf,eACA,eAAsCjB,QAAQ,CAAC,MAAD,CAA9C,yCAAOkB,WAAP,eAAoBC,cAApB,eACA,eAA+BnB,QAAQ,CAAC,IAAD,CAAvC,yCAAOoB,WAAP,eAAoBC,OAApB,eACA,eAA4BrB,QAAQ,cAAC,KAAC,aAAD,EAAe,IAAI,CAAC,OAApB,EAAD,CAApC,yCAAOsB,MAAP,eAAeC,SAAf,eAEAtB,SAAS,CAAC,UAAM,CACfC,MAAM,CAACsB,SAAP,CAAiB,cAA+B,sBAA5BC,MAA4B,CAAlBC,IAAkB,aAAlBA,IAAkB,CAAZC,IAAY,aAAZA,IAAY,CAC/C,GAAID,IAAI,GAAK,sBAAb,CAAqC,CACpCT,SAAS,CAACU,IAAI,CAACX,MAAN,CAAT,CACA,CACD,CAJD,EADe,QAOAY,CAAAA,SAPA,qIAOf,kKACoB1B,CAAAA,MAAM,CAACY,IAAP,CAAY,qBAAZ,CADpB,QACOe,IADP,eAECR,OAAO,CAACQ,IAAD,CAAP,CACAN,SAAS,CAAC,IAAD,CAAT,CAHD,sDAPe,4CAYfK,SAAS,GACT,CAbQ,CAaN,EAbM,CAAT,CAcA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KACC,CA9CD,CAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EACA,cAAeb,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot, ConfigProvider, SplitLayout, SplitCol } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport '@vkontakte/vkui';\nimport { Input } from '@vkontakte/vkui';\n\n//bridge.send(\"VKWebAppInit\");\n\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\n\n\nalert(bridge.send(\"VKWebAppInit\"));\n\nconst App = () => {\n\n\n\tbridge.send(\"VKWebAppInit\");\n\tbridge.send(\"VKWebAppGetClientVersion\");\n\n\tconst [scheme, setScheme] = useState('bright_light')\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tsetScheme(data.scheme)\n\t\t\t}\n\t\t});\n\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\t/*\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<ConfigProvider scheme={scheme}>\n\t\t\t<AdaptivityProvider>\n\t\t\t\t<AppRoot>\n\t\t\t\t\t<SplitLayout popout={popout}>\n\t\t\t\t\t\t<SplitCol>\n\t\t\t\t\t\t\t<View activePanel={activePanel}>\n\t\t\t\t\t\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\n\t\t\t\t\t\t\t\t<Persik id='persik' go={go} />\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</SplitCol>\n\t\t\t\t\t</SplitLayout>\n\t\t\t\t</AppRoot>\n\t\t\t</AdaptivityProvider>\n\t\t</ConfigProvider>\n\t);*/\n}\n\n/*\nconst textInput = React.createRef();\nconst clear = () => (textInput.current.value = \"\");\n\n<View activePanel=\"input\">\n  <Panel id=\"input\">\n    <PanelHeader>Input</PanelHeader>\n    <Group>\n      <FormItem top=\"Фамилия\">\n        <Input type=\"text\" defaultValue=\"Петров\" />\n      </FormItem>\n      <FormItem>\n        <Input type=\"text\" defaultValue=\"Иванов\" align=\"center\" />\n      </FormItem>\n      <FormItem>\n        <Input type=\"text\" defaultValue=\"Сидоров\" align=\"right\" />\n      </FormItem>\n      <FormItem top=\"С иконкой\">\n        <Input\n          type=\"text\"\n          defaultValue=\"Смирнов\"\n          after={<Icon20User aria-hidden=\"true\" />}\n        />\n      </FormItem>\n      <FormItem top=\"С IconButton\">\n        <Input\n          getRef={textInput}\n          type=\"text\"\n          defaultValue=\"Кузнецов\"\n          after={\n            <IconButton\n              hoverMode=\"opacity\"\n              aria-label=\"Очистить поле\"\n              onClick={clear}\n            >\n              <Icon16Clear />\n            </IconButton>\n          }\n        />\n      </FormItem>\n    </Group>\n  </Panel>\n</View>;\n\n*/\nexport default App;\n"]},"metadata":{},"sourceType":"module"}